<main>

<%= form_for(@app) do |f| %>
<% if @app.errors.any? %>
<div id="error_explanation">
    <h2><%= pluralize(@app.errors.count, "error") %>
        prohibited this app from being saved:</h2>

    <ul>
        <% @app.errors.full_messages.each do |message| %>
        <li><%= message %></li>
        <% end %>
    </ul>
</div>
<% end %>

<div class="form-group row">
    <div class="col-2 text-center"><%= image_tag('placeholder.png', :size => "72", :class => "img-fluid preload", data: {source: @app.android_icon.url}) if @app.android_icon? %></div>
    <div class="col-10">
    <%= f.label :android_icon %>
    <%= f.file_field :android_icon, :class => "form-control-file", :'aria-describedby' => "fileHelp" %>
    <small id="fileHelp" class="form-text text-muted">This is some placeholder block-level help text for the above input. It's a bit lighter and easily wraps to a new line.</small>
    </div>
</div>

<div class="form-group row">
  <div class="col-2 text-center"><%= image_tag('placeholder.png', :size => "72", :class => "img-fluid preload", data: {source: @app.ios_icon.url}) if @app.ios_icon? %></div>
  <div class="col-10">
    <%= f.label :ios_icon %>
    <%= f.file_field :ios_icon, :class => "form-control-file", :'aria-describedby' => "fileHelp" %>
    <small id="fileHelp" class="form-text text-muted">This is some placeholder block-level help text for the above input. It's a bit lighter and easily wraps to a new line.</small>
  </div>
</div>

<div class="form-group row">
  <div class="col-2 text-center"><%= image_tag('placeholder.png', :size => "128", :class => "img-fluid preload", data: {source: @app.splash.url}) if @app.splash? %></div>
  <div class="col-10">
    <%= f.label :splash %>
    <%= f.file_field :splash, :class => "form-control-file", :'aria-describedby' => "fileHelp" %>
    <small id="fileHelp" class="form-text text-muted">This is some placeholder block-level help text for the above input. It's a bit lighter and easily wraps to a new line.</small>
  </div>
</div>

<div class="form-group">
    <%= f.label :internal_name, 'Name' %>
    <%= f.text_field :internal_name, :class => "form-control" %>
</div>

<div class="form-group">
    <%= f.label :internal_id, 'Id' %>
    <%= f.text_field :internal_id, :readonly => true, :class => "form-control" %>
</div>

<div class="form-group">
    <%= f.label :runtime %>
    <%= f.text_area :runtime, :class => "jsoneditor-target form-control"%>
</div>
<div class="actions">
    <%= f.submit :class => "btn btn-primary" %>
    <%= link_to 'Changes history', app_versions_path(@app), :class => "btn btn-warning" %>
    <%= link_to 'Preview configuration', runtime_app_path(@app), :class => "btn btn-outline-primary", :target => '_blank' %>
    <%= link_to 'Invite', app_autority_invite_path(@app), remote: true, method: :post, :class => "btn btn-outline-primary" %>
</div>
<% end %>

</main>
