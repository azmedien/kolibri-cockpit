<%= form_for(app) do |f| %>
  <% if app.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(app.errors.count, "error") %> prohibited this app from being saved:</h2>

      <ul>
      <% app.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <%= f.hidden_field :internal_name %>

  <div class="card">
  <div class="card-header">
    Android
  </div>
  <div class="card-block form-group">
    <% f.object.android_config.keys.each do |key| %>
      <div class="field">
      <%= f.label key + ":" %><br />
      <%= text_field_tag "app[android_config]["+ key +"]", f.object.android_config[key], :class => "form-control" %>
      </div>
    <% end %>
  </div>
</div>

<div class="card">
<div class="card-header">
  iOS
</div>
<div class="card-block form-group">
    <% f.object.ios_hash.each do |key, value| %>
      <div class="field">
      <%= f.label key + ":" %><br />
      <%= text_field_tag "app[ios_config]["+ key +"]", f.object.ios_config[key], :class => "form-control" %>
      </div>
    <% end %>
</div>
</div>

<div class="actions">
  <%= f.submit :class => "btn btn-primary" %>
</div>
<% end %>
